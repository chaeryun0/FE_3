# 메모리의 생명 주기

<img src="https://user-images.githubusercontent.com/112460430/204137594-ed288517-412e-4bf0-95e8-07da2444941f.png" width="60%">
 
# 메모리 누수와 Garbage Collection
 
> 메모리 누수는 **프로그램이 필요하지 않은 메모리 공간을 계속해서 점유하는 현상**의 의미 <br>
> 이러한 현상을 방지하기 위해 자바스크립트나 자바, 파이썬 같은 **고수준 언어에는 가비지 컬렉터가 존재**한다.

- 자바스크립트에서 **사용하지 않는 메모리는 자바스크립트 엔진이 추정하여 삭제**(Garbage Collection)한다.
- 이때 이용하는 방식이 **참조 카운팅** (reference counting)으로 메모리에 존재하는 값을 몇개의 변수와 함수가 참조하고 있는지 살펴본다.
- 참조가 0이 되면(가비지 컬렉터의 대상) 값을 메모리에서 삭제
- 자바스크립트에서 메모리 관리에 신경 써야하는 이유 중 하나는 제 때 메모리를 해제해 주지 못하는 경우 전역변수는 프로그램이 종료되기 전까지 계속 메모리에 존재하게 된다.

```
let me = { age: 30 };
let you = me; // 참조 카운트 2

me = null;  // 참조 카운트 1
you = null; // 참조 카운트 0

let x = {
  y: {
    z: 1
  }
}
// x가 참조하는 객체를 object 1,  y가 참조하고 있는 객체를 object2 일때

let a = x; // object1의 참조 카운트는 2 (x, a)
x = 1; // object1의 참조 카운트는 1 (a)

let b = a.y // object2의 참조 카운트는 2 (a.y, b)
a = 2; // object1의 참조 카운트는 0 ()
```

 <br>
 
# 동일 출처 정책 (same-origin policy, SOP)

> **A라는 도메인에서 불러온 문서나 스크립트가 B라는 도메인에서 불러온 리소스와 상호 작용하지 못하도록 하는 보안 방식**

- 잘못된 리소스를 받아옴으로써 해킹 같은 공격을 사전 방어하기 위함
- 서로 출처가 같은 문서끼리는 리소스를 사용하는게 가능하다.
- 같은 출처라면 서로의 문서에 접근해서 상호작용 할 수 있음
  - **출처의 정의** : 불러온 URL의 프로토콜, 포트, 호스트가 모두 같아야 동일한 출처라고 함

## ✏️ SOP, 동일 출처 정책이 무엇인가요?
  - 서로 다른 도메인에 대한 요청을 보안상 제한하는 것을 말합니다.  <br> 이 정책이 있는 이유는 다른 리소스를 불러오는 것의 악의적인 공격을 사전에 차단하기위해서 입니다.
  - SOP 정책으로 생기는 이슈는 크로스 도메인 이슈라고 하며 JSON으로 이슈를 우회해서 데이터 공유를 가능하게 합니다.

 <br>
 
# 교차 출처 리소스 공유 (Cross-Origin Resource Sharing, CORS)

> **CORS는 [HTTP](https://developer.mozilla.org/ko/docs/Glossary/HTTP)의 일부로, 어떤 호스트에서 자신의 콘텐츠를 불러갈 수 있는지 서버에 지정할 수 있는 방법**

- **CORS는 서버에서 응답헤더에 허용해주면 다른 출처의 리소스 공유가 가능한 것**
- API 작업을 하다보면, 서버랑 통신하다가 CORS 이슈가 발생할 수 있음

## ✏️ CORS 가 무엇인지 설명해주세요.

- 교차출처 리소스 공유는 추가 HTTP 헤더를 사용하여 한 출처에서 실행중인 웹 애플리케이션이 다른 출처의 선택한 자원에 접근할수 있도록 권한을 부여하도록 브라우저에 알려주는 체제입니다.
- 리소스가 자신의 출처(프로트콜, 호스트, 포트)와 다를때 교차 출처 HTTP 요청을 실행합니다.
- SOP의 예외적인 처리를 위해서, SOP를 우회하기위한 방법으로, CORS를 이용하면 SOP의 제한을 받지 않습니다.<br>
 → SOP는 다른 출처간의 리소스 공유가 불가능, CORS는 가능

